{% extends "app/base.html" %}
{% load static %}

{% block title %}Patient Detail{% endblock %}

{% block content %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/detail.css' %}">
{% endblock %}

<section class="patient-detail-section">
    <h2 class="section-title">{{ object.first_name }} {{ object.last_name }}</h2>

    <div class="patient-info">
        <p><strong>Date of Birth:</strong> {{ object.date_of_birth }}</p>
        <p><strong>Gender:</strong> {{ object.gender }}</p>
        <p><strong>Contact:</strong> {{ object.contact_no }}</p>
        <p><strong>Address:</strong> {{ object.address }}</p>
        <p><strong>Emergency Contact:</strong> {{ object.emergency_contact }}</p>
    </div>

    <h3 class="sub-title">Visits</h3>
    <ul class="visit-list">
        {% for visit in object.visit_set.all %}
        <li>
            <a href="{% url 'visit-detail' visit.pk %}">
                Visit #{{ visit.visit_id }} - {{ visit.visit_date }}
            </a>
        </li>
        {% empty %}
        <li>No visits yet.</li>
        {% endfor %}
    </ul>
</section>
{% endblock %}
